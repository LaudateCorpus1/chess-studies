%% skiminki's computer chess studies
%% Copyright (C) 2019 Sami Kiminki
%%
%% This program is free software: you can redistribute it and/or modify
%% it under the terms of the GNU General Public License as published by
%% the Free Software Foundation, either version 3 of the License, or
%% (at your option) any later version.
%%
%% This program is distributed in the hope that it will be useful,
%% but WITHOUT ANY WARRANTY; without even the implied warranty of
%% MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
%% GNU General Public License for more details.
%%
%% You should have received a copy of the GNU General Public License
%% along with this program. If not, see <http://www.gnu.org/licenses/>.

\chessgame{Stoofvlees II a11}{Gull 3}%
          {TCEC S16 League 2 (30|5), Round 2.4}%
          {C02 - French: Advance, Euwe variation}%
          {2019-07-29}


\mainline{1. e4 e6 2. d4 d5 3. e5 c5 4. c3 Bd7}

End of book

\mainline{5. Nf3 Nc6 6. Be2 Nge7 7. O-O cxd4!? 8. cxd4}

\chessboard

The more common moves were \movecomment{7... Ng6}
and \movecomment{7... Nf5.} The problem with \movecomment{7... cxd4}
is that it locks down the center and white gets a free attack with
king-side pawn pushes. Maybe it was better not to release the tension
too early and play moves such as \bmove{Qb6,} for instance. Usually,
black wants to keep 2 pawn break options in French
(well-timed \wmove{cxd4} and \wmove{f6}), but now there's only
the \bmove{f6} break available after the unfavorable break.

\mainline{8... Nf5 9. Nc3 a6 10. a3!}

Prophylaxis. This is to prepare \wmove{Bd3.}
Without \wmove{a3,} \wmove{Bd3} would be met with \bmove{Ng4.}
Also, \bmove{Bg4} is now prevented.

\mainline{10... Rc8}

Rooks belong in open files.

\mainline{11. Kh1!\novelty}

Makes room for \wmove{Rg1} or possibly even \wmove{Ng1} in some lines,
preparing for an all-out attack. This is a deep strategical attacking
idea.

\mainline{11... Be7 12. g4 Nh4}

After exchanges, white gets free \wmove{f4} with tempo. However, the
damage was already done and this was the best move for black.

\mainline{13. Nxh4 Bxh4 14. f4 Be7 15. Be3}

Now protecting the pawn on d4 by the dark square bishop,
enabling \wmove{Bd3.}

\chessboard

\mainline{15... O-O?!}

This is not a pretty move to make: castling straight into attack. Both
Leela and Stockfish preferred \movecomment{15... Na5} with a
follow-up \bmove{Nc4}, instead. For example: \movecomment{15... Na5
16. f5 Nc4 17. Bxc4 Rxc4} with play for both sides.

\mainline{16. Bd3}

The point of \wmove{a3} is now made: \bmove{Nb4} is not possible here.

\mainline{16... Na5?}

The time for the thematic \bmove{f6} break was now to undermine
white's attack. But here, a critical tempo is lost and the knight is
where the action is not. The fact that black has castled makes all the
difference for white's attack, and white does not give black time to
play \bmove{Nc4} until the position is beyond repair.

\variation{16... f6! 17.  Qc2 fxe5 18. fxe5 Rxf1+ 19. Rxf1 Nxe5
20. dxe5 d4 21. Bxh7+ Kh8 22. Bxd4 Rc4 23. Be4.} White has to give the
piece back with \movecomment{23... Rxd4}. Black is pawn down but
should be able to hold the draw. Note that trying to keep the extra
piece would lose the queen: \movecomment{23. Be3?? Bc6+ 24. Kg1 Rxg4+
25. Kf2 Rg2+}

\mainline{17. Qc2}

Asking black to weaken the king pawns.

\mainline{17... g6?!}

Pawn to \wmove{h6} was better, as the pawn move \wmove{g6} weakens the
dark squares.

\mainline{18. f5}

\chessboard

\mainline{18... Bg5\onlymove}

Only move. Other moves would have trapped the bishop or lost the queen
to stop the mating threat.

\begin{enumerate}[label=(\alph*)]
\item \variation{18... Qe8 19. f6 Bd8 20. Qf2 Rc6 21. Qh4.}
Now \bmove{Bxf6} is the only move avoiding the immediate mate.
\item \variation{18... Re8 19. fxg6 fxg6 20. Bxg6 hxg6 21. Qxg6+} with
mate in 2.
\item \variation{18... exf5 19. gxf5 Bg5 20. Qe2 Bxe3 21. Qxe3 Qh4
22. Rf4 Qh6 23. fxg6 fxg6 24. Rxf8+ Qxf8 25. Rf1 Qg7 26. e6 Be8
27. Rf3 Kh8 28. Nxd5 Bc6 29. Rf7.} White simply has too many threats
and overruns black in this line.
\item \variation{18... gxf5? 19. gxf5 exf5 20. Rg1+ Kh8 21. Bh6 Rg8 22. Rxg8+ Qxg8
23. Rg1} Any attempt to save the queen will result in quick mate. For
example \movecomment{23... Qd8 24. Qg2} and black can only delay the
mate.
\end{enumerate}

\mainline{19. Bf4}
The point here is to get the rook to f4 with tempo.

\mainline{19... Bxf4}
Black could not have realistically prevented \wmove{Rxf4.} If black
played something else, pawn to \wmove{f6} would have soon followed
cutting the support to the bishop and then \bmove{Bxf4} was forced.

\mainline{20. Rxf4 Qh4}
Black had to play the queen to h4 to parry mating ideas and
crash-through threats. For example:
\variation{20... Nc4 21. Qf2 f6 22. fxe6 Bxe6 23. exf6}

\mainline{21. Raf1!}
Supporting the rook on f4, preparing now the pawn moves f6 and
g5. Black does not have time to make room for the queen on f8, as
would be the case with the premature \movecomment{21. f6?} This would
close black's king-side and slow down the attack. White is still
better and black has to maintain keeping an eye on g7. However, here
black has time to interfere the attack and start some counter-play on
the queen-side, and the most important of all, play the queen to
f8: \movecomment{21... Nc4 22. Rg1 Rc7 23. Qe2 Qg5 24. Rgf1 Rfc8
25. Bxc4 Rxc4 26. Qf2 Qh6 27. g5 Qf8.} The queen on f8 makes all the
difference compared to the game continuation.

\mainline{21... Nc4}
Trying to make room for the queen on f8 would have been a terrible
idea: \variation{21... Rfd8?? 22. fxg6 fxg6 23. Bxg6 hxg6 24. Qxg6+}
and the attack is unstoppable.

\mainline{22. Qe2 b5 23. Nd1 Qh6}
The queen is being forced towards her prison on h8.

\mainline{24. b3 Na5}

Taking the pawn instead with \variation{24... Nxa3} would not have
changed anything, since black will not have time to enjoy the extra
pawns. Now white forces the black queen to the corner where it will
sit as the saddest piece of the board.

\mainline{25. Qf2 Qg7}

Black had to add protection to the f7 square to prevent white crashing
through with \wmove{Rxf7} after \wmove{fxg6.} An interesting try was
to take the pawn on f5 with the e-pawn: \variation{25... exf5 26. gxf5
g5 27. Rf3 f6 28. Qg2 Qg7 29. Ne3 Kh8 30. Ng4 Rc6 31. Rg3 Rg8
32. Qxd5,} but this does not work out for black, either.

\mainline{26. f6 Qh8 27. b4 Nc6 28. g5 Rfd8}

\chessboard

The black rook side-steps to prevent \movecomment{29. Bxg6!} crashing
through. If the bishop is taken, then either \movecomment{30. f7+}
or \movecomment{30. Rh4,} both winning decisively.

White now brings the knight and the h-pawn into attack to force a
break through black's defenses.

\mainline{29. Ne3 Rc7 30. Ng4 Rdc8 31. h4 Kf8 32. Qh2 h5}

Black tries to close the pawn structure, but white of course will not
allow that.

\mainline{33. gxh6 Ke8 34. Qd2 a5 35. bxa5 Ra8 36. h5!}
\chessboard

White is now opening the g-file forcibly. The plan after that is
simple: Rook to g8 to win the queen and/or to support promotion of the
more advanced h-pawn. There is no feasible way to stop white's plan.

\mainline{36... g5 37. h7! gxf4 38. Nh6}

Now the Rg1-g8 plan can only be stopped by sacrificing material. Nxf7
attacking the promotion square could also be played given an
opportunity.

\mainline{38... Nxe5 39. dxe5}
This is now forced mate in 15 with best play. Both sides made some
small inaccuracies here which would not change the outcome.

\mainline{39... Bc6 40. Rg1 Qxh7}

The most resilient defense: \variation{40... d4+ 41. Kh2 Kd7 42. Nxf7
Qf8 43.  Rg7 Kc8 44. Nd6+ Kd8 45. Qc1 Rb8 46. Qc5 Bd7 47. Nb7+ Kc8
48. Qxf8+ Kxb7 49.  Qd6 Ka7 50. Qxc7+ Rb7 51. Qc5+ Ka6 52. Rxd7 Kxa5
53. Rxb7 Ka6 54. Qb6#}

\mainline{41. Bxh7 Kd8 42. Kh2 Kc8 43. Nxf7 Rxf7 44. Bg8 Rb8}
Desperate moves, as black was already facing a forced mate.

\mainline{45. Bxf7 Kb7 46. Bxe6 Rh8 47. Rg7+ Ka8 48.  Qd4 Bb7 49. Qb6
Rxh5+ 50. Kg2 Rg5+ 51. Rxg5 d4+ 52. Kf2 d3 53. Rg8+ Bc8 54.  Rxc8#}
White wins.
